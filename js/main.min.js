!function(t,e){t.Mustache=e({})}(this,function(t){function e(t){return"function"==typeof t}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return d.call(t,e)}function i(t){return!r(g,t)}function a(t){return String(t).replace(/[&<>"'\/]/g,function(t){return v[t]})}function s(e,r){function a(){if(d&&!g)for(;u.length;)delete p[u.pop()];else u=[];d=!1,g=!1}function s(t){if("string"==typeof t&&(t=t.split(b,2)),!f(t)||2!==t.length)throw new Error("Invalid tags: "+t);v=new RegExp(n(t[0])+"\\s*"),k=new RegExp("\\s*"+n(t[1])),U=new RegExp("\\s*"+n("}"+t[1]))}if(!e)return[];var h=[],p=[],u=[],d=!1,g=!1,v,k,U;s(r||t.tags);for(var C=new c(e),E,T,$,S,A,L;!C.eos();){if(E=C.pos,$=C.scanUntil(v))for(var R=0,D=$.length;D>R;++R)S=$.charAt(R),i(S)?u.push(p.length):g=!0,p.push(["text",S,E,E+1]),E+=1,"\n"===S&&a();if(!C.scan(v))break;if(d=!0,T=C.scan(x)||"name",C.scan(m),"="===T?($=C.scanUntil(w),C.scan(w),C.scanUntil(k)):"{"===T?($=C.scanUntil(U),C.scan(y),C.scanUntil(k),T="&"):$=C.scanUntil(k),!C.scan(k))throw new Error("Unclosed tag at "+C.pos);if(A=[T,$,E,C.pos],p.push(A),"#"===T||"^"===T)h.push(A);else if("/"===T){if(L=h.pop(),!L)throw new Error('Unopened section "'+$+'" at '+E);if(L[1]!==$)throw new Error('Unclosed section "'+L[1]+'" at '+E)}else"name"===T||"{"===T||"&"===T?g=!0:"="===T&&s($)}if(L=h.pop())throw new Error('Unclosed section "'+L[1]+'" at '+C.pos);return l(o(p))}function o(t){for(var e=[],n,r,i=0,a=t.length;a>i;++i)n=t[i],n&&("text"===n[0]&&r&&"text"===r[0]?(r[1]+=n[1],r[3]=n[3]):(e.push(n),r=n));return e}function l(t){for(var e=[],n=e,r=[],i,a,s=0,o=t.length;o>s;++s)switch(i=t[s],i[0]){case"#":case"^":n.push(i),r.push(i),n=i[4]=[];break;case"/":a=r.pop(),a[5]=i[2],n=r.length>0?r[r.length-1][4]:e;break;default:n.push(i)}return e}function c(t){this.string=t,this.tail=t,this.pos=0}function h(t,e){this.view=null==t?{}:t,this.cache={".":this.view},this.parent=e}function p(){this.cache={}}var u=Object.prototype.toString,f=Array.isArray||function(t){return"[object Array]"===u.call(t)},d=RegExp.prototype.test,g=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},m=/\s*/,b=/\s+/,w=/\s*=/,y=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;c.prototype.eos=function(){return""===this.tail},c.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},c.prototype.scanUntil=function(t){var e=this.tail.search(t),n;switch(e){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,e),this.tail=this.tail.substring(e)}return this.pos+=n.length,n},h.prototype.push=function(t){return new h(t,this)},h.prototype.lookup=function(t){var n=this.cache,r;if(t in n)r=n[t];else{for(var i=this,a,s;i;){if(t.indexOf(".")>0)for(r=i.view,a=t.split("."),s=0;null!=r&&s<a.length;)r=r[a[s++]];else r=i.view[t];if(null!=r)break;i=i.parent}n[t]=r}return e(r)&&(r=r.call(this.view)),r},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(t,e){var n=this.cache,r=n[t];return null==r&&(r=n[t]=s(t,e)),r},p.prototype.render=function(t,e,n){var r=this.parse(t),i=e instanceof h?e:new h(e);return this.renderTokens(r,i,n,t)},p.prototype.renderTokens=function(n,r,i,a){function s(t){return l.render(t,r,i)}for(var o="",l=this,c,h,p=0,u=n.length;u>p;++p)switch(c=n[p],c[0]){case"#":if(h=r.lookup(c[1]),!h)continue;if(f(h))for(var d=0,g=h.length;g>d;++d)o+=this.renderTokens(c[4],r.push(h[d]),i,a);else if("object"==typeof h||"string"==typeof h)o+=this.renderTokens(c[4],r.push(h),i,a);else if(e(h)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");h=h.call(r.view,a.slice(c[3],c[5]),s),null!=h&&(o+=h)}else o+=this.renderTokens(c[4],r,i,a);break;case"^":h=r.lookup(c[1]),(!h||f(h)&&0===h.length)&&(o+=this.renderTokens(c[4],r,i,a));break;case">":if(!i)continue;h=e(i)?i(c[1]):i[c[1]],null!=h&&(o+=this.renderTokens(this.parse(h),r,i,h));break;case"&":h=r.lookup(c[1]),null!=h&&(o+=h);break;case"name":h=r.lookup(c[1]),null!=h&&(o+=t.escape(h));break;case"text":o+=c[1]}return o},t.name="mustache.js",t.version="0.8.1",t.tags=["{{","}}"];var k=new p;return t.clearCache=function(){return k.clearCache()},t.parse=function(t,e){return k.parse(t,e)},t.render=function(t,e,n){return k.render(t,e,n)},t.to_html=function(n,r,i,a){var s=t.render(n,r,i);return e(a)?void a(s):s},t.escape=a,t.Scanner=c,t.Context=h,t.Writer=p,t}),+function(t,e){var n=function(e,r){return this.options=t.extend({},n.DEFAULTS,r),this.$element=t(e),this.origHTML=this.$element.html(),this.type=n.TYPES[this.options.type]||this.options.type||n.TYPES.bar,this.rubric=this.options.rubric?n.RUBRICS[this.options.rubric]||this.options.rubric:!1,"%"===this.options.scale&&(this.options.scale=100),this.$element.addClass(this.type.className),this.draw()};n.DEFAULTS={scale:100,type:"bar",rubric:!1,legend:!1},n.TYPES={bar:{name:"bar",className:"graph graph-bar",template:t("#bar-template")[0]?t("#bar-template").html():'<div class="bar bar-{{index}} grade-{{grade.index}}" style="width:{{percent}}%;" title="{{grade.name}}"><span class="label">{{text}}</span></div>'},dot:{name:"dot",className:"graph graph-dot",template:t("#dot-template")[0]?t("#dot-template").html():'<span class="label">{{text}}</span><div class="dot dot-{{index}} grade-{{grade.index}}" style="position:absolute;left:{{percent}}%;" title="{{grade.name}}"></div>'}},n.RUBRICS={quality:["poor","fair","good","great","excellent"],proficiency:["limited","beginner","comfortable","proficient","very proficient"],letterGrades:["F","D","C","B","A"],scholastic:["F","D-","D","D+","C-","C","C+","B-","B","B+","A-","A","A+"]},n.prototype.draw=function(){var n=this.getItems(),r=this.type.template;return e.parse(r),this.$element.find("[data-value]").each(function(i,a){t(a).html(e.render(r,n[i]))}),this.options.legend&&!this.$legend&&this.$element.after(this.getLegend()),this},n.prototype.getItems=function(){function e(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}var n=this.options.scale,r=this.rubric,i=[];return this.$element.find("[data-value]").each(function(a,s){var o=t(s),l={};l.index=a+1,l.text=o.text().trim(),l.value=o.data("value"),l.percent=o.data("value")/n*100,l.grade={},l.grade.index=r?Math.floor(l.percent/(100/r.length)):l.value,l.grade.name=r?e(r[l.grade.index-1].replace(/-/g,"-minus").replace(/\+/g,"-plus")):l.value+"/"+n,i[a]=l}),i},n.prototype.getLegend=function(){var e=t('<aside class="legend"><ul class="legend-content"></ul></aside>');return t.each(this.rubric,function(n,r){e.find(".legend-content").append(t('<li><i class="swatch grade-'+(n+1)+'"></i><span class="label">'+r+"</span></li>"))}),this.$legend=e},n.prototype.undraw=function(){this.$legend&&this.$legend.remove(),this.$element.html(this.origHTML)},n.prototype.destroy=function(){this.undraw(),delete this.$element.data().graph};var r=t.fn.graph;t.fn.graph=function(e){return this.each(function(){var r=t(this),i=r.data("graph"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);i||r.data("graph",i=new n(this,a)),"string"==typeof e&&i[e]()})},t.fn.graph.Constructor=n,t.fn.graph.noConflict=function(){return t.fn.graph=r,this},t(window).on("load",function(){t('[data-draw="graph"]').each(function(){var e=t(this),n=e.data();e.graph(n)})})}(jQuery,Mustache);